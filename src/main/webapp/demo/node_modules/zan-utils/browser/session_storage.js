(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(['module', 'exports'], factory);
  } else if (typeof exports !== "undefined") {
    factory(module, exports);
  } else {
    var mod = {
      exports: {}
    };
    factory(mod, mod.exports);
    global.session_storage = mod.exports;
  }
})(this, function (module, exports) {
  'use strict';

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  /* eslint no-empty:0 */
  /**
   * @memberof module:browser
   * @name SessionStorage
   * @example
   * import SessionStorage from 'zan-utils/browser/session_storage';
   * @description
   * catch SessionStorage操作的异常
   */

  var storage = {};
  if (typeof window !== 'undefined') {
    storage = window.sessionStorage;
  }

  var SessionStorage = {
    setItem: function setItem(key, value) {
      try {
        storage.setItem(key, value);
      } catch (e) {
        // e.name 各个浏览器不一致，改为e.code
        if (e.code === 22) {
          storage.clear();
          try {
            storage.setItem(key, value);
          } catch (err) {}
        }
      }
    },
    getItem: function getItem(key) {
      try {
        return storage.getItem(key);
      } catch (e) {}
    },
    removeItem: function removeItem(key) {
      try {
        return storage.removeItem(key);
      } catch (e) {}
    },
    clear: function clear() {
      try {
        return storage.clear();
      } catch (e) {}
    }
  };

  exports['default'] = SessionStorage;
  module.exports = exports['default'];
});